{% if messages %}
<div class="message-container">
    {% for message in messages %}
    <div class="alert alert-dismissible fade show 
                {% if message.tags == 'error' %}alert-danger
                {% elif message.tags == 'warning' %}alert-warning
                {% elif message.tags == 'info' %}alert-info
                {% else %}alert-success{% endif %}" 
         role="alert">
        
        <div class="d-flex align-items-center">
            <div class="flex-shrink-0 me-3">
                {% if message.tags == 'error' %}
                <i class="fas fa-times-circle fa-lg"></i>
                {% elif message.tags == 'warning' %}
                <i class="fas fa-exclamation-triangle fa-lg"></i>
                {% elif message.tags == 'info' %}
                <i class="fas fa-info-circle fa-lg"></i>
                {% else %}
                <i class="fas fa-check-circle fa-lg"></i>
                {% endif %}
            </div>
            <div class="flex-grow-1">
                {{ message }}
            </div>
            <button type="button" 
                    class="btn-close" 
                    data-bs-dismiss="alert" 
                    aria-label="Close"></button>
        </div>
    </div>
    {% endfor %}
</div>

<style>
    .message-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1100;
        width: 100%;
        max-width: 400px;
        animation: slideIn 0.5s forwards;
    }
    
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    .alert {
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        border: none;
        margin-bottom: 1rem;
    }
    
    .alert i {
        font-size: 1.5rem;
    }
    
    .alert-danger i {
        color: #842029;
    }
    
    .alert-warning i {
        color: #664d03;
    }
    
    .alert-info i {
        color: #055160;
    }
    
    .alert-success i {
        color: #0f5132;
    }
    
    @media (max-width: 576px) {
        .message-container {
            top: 10px;
            right: 10px;
            left: 10px;
            max-width: none;
        }
    }
</style>

<script>
    // Fermeture automatique aprÃ¨s 5 secondes
    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                const bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            }, 5000);
        });
    });
</script>
{% endif %}